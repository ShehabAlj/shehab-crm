
> shehab-crm@0.1.0 build
> next build

Ôû▓ Next.js 16.1.6 (Turbopack)
- Environments: .env.local

ÔÜá The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
  Creating an optimized production build ...

> Build error occurred
Error: Turbopack build failed with 1 errors:
./src/utils/supabase/server.ts:2:1
Ecmascript file had an error
  1 | import { createServerClient } from '@supabase/ssr'
> 2 | import { cookies } from 'next/headers'
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  3 |
  4 | export async function createClient() {
  5 |   const cookieStore = await cookies()

You're importing a component that needs "next/headers". That only works in a Server Component which is not supported in the pages/ directory. Read more: https://nextjs.org/docs/app/building-your-application/rendering/server-components



Import traces:
  App Route:
    ./src/utils/supabase/server.ts
    ./src/app/api/jarvis/route.ts

  Server Component:
    ./src/utils/supabase/server.ts
    ./src/lib/crm.ts
    ./src/app/page.tsx

  Client Component Browser:
    ./src/utils/supabase/server.ts [Client Component Browser]
    ./src/lib/crm.ts [Client Component Browser]
    ./src/components/project/IntelligenceView.tsx [Client Component Browser]
    ./src/components/project/ProjectTabs.tsx [Client Component Browser]
    ./src/components/project/ProjectTabs.tsx [Server Component]
    ./src/app/admin/projects/[id]/page.tsx [Server Component]

  Client Component SSR:
    ./src/utils/supabase/server.ts [Client Component SSR]
    ./src/lib/crm.ts [Client Component SSR]
    ./src/components/project/IntelligenceView.tsx [Client Component SSR]
    ./src/components/project/ProjectTabs.tsx [Client Component SSR]
    ./src/components/project/ProjectTabs.tsx [Server Component]
    ./src/app/admin/projects/[id]/page.tsx [Server Component]


    at <unknown> (./src/utils/supabase/server.ts:2:1)
